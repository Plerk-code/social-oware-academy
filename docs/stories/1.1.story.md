# Story 1.1: Install and Configure DOTween Package

**Epic:** Epic 1 - Foundation & Setup
**Story ID:** 1.1
**Priority:** High
**Points:** 1
**Status:** Draft

---

## Description

Install and configure DOTween (free animation tweening library) from the Unity Asset Store to enable smooth, performant animations throughout the game. DOTween is essential for seed sowing animations, capture effects, UI transitions, and all game polish elements in Epic 2 and beyond.

**GDD Reference:** Technical Stack > Additional SDKs > DOTween (Architecture Section 2)

This story establishes the animation foundation required for all visual polish work, particularly seed movement animations in Story 2.4 and UI transitions in Epic 5.

---

## Acceptance Criteria

### Functional Requirements

- [ ] **AC1:** DOTween package installed via Unity Asset Store (free version)
- [ ] **AC2:** DOTween setup completed via `Tools > Demigiant > DOTween Utility Panel`
- [ ] **AC3:** DOTween configured for:
  - Modules: Transform, UI, Sprite (disable unnecessary modules)
  - Safe Mode: Disabled (performance optimization)
  - Timeline Support: Enabled
- [ ] **AC4:** Test animation runs successfully in Unity Editor play mode
- [ ] **AC5:** No console errors or warnings after DOTween installation
- [ ] **AC6:** DOTween version documented in project README or docs

### Technical Requirements

- [ ] **TR1:** Package installed in project without conflicting with existing packages
- [ ] **TR2:** DOTween asmdef files (if generated) added to appropriate directories
- [ ] **TR3:** `.gitignore` updated if DOTween adds any local cache files
- [ ] **TR4:** Project builds successfully after installation (iOS/Android/WebGL)

### Game Design Requirements

- [ ] **GD1:** Animation test demonstrates smooth 60 FPS performance on target platform

---

## Technical Specifications

### Installation Steps

**Asset Store Installation:**

1. Open Unity Asset Store window (`Window > Asset Store` or `Window > Package Manager`)
2. Search for "DOTween (HOTween v2)"
3. Download and import DOTween Free package
4. Import all files when prompted

**DOTween Setup:**

1. Navigate to `Tools > Demigiant > DOTween Utility Panel`
2. Click "Setup DOTween..." button
3. Configure modules:
   - ✅ Transform
   - ✅ UI
   - ✅ Sprite
   - ❌ Audio (not needed for MVP)
   - ❌ Physics (not needed for turn-based game)
   - ❌ Physics2D (not needed for turn-based game)
4. Set Safe Mode: OFF (performance optimization)
5. Enable Timeline Support: ON
6. Click "Apply" and close utility panel

### Test Animation Script

Create simple test script to verify DOTween works:

```csharp
// DOTweenTest.cs (temporary, can be deleted after verification)
using UnityEngine;
using DG.Tweening;

public class DOTweenTest : MonoBehaviour
{
    void Start()
    {
        // Test DOTween with simple rotation animation
        transform.DORotate(new Vector3(0, 360, 0), 2f)
            .SetLoops(-1, LoopType.Restart)
            .SetEase(Ease.Linear);

        Debug.Log("[DOTween Test] Animation started successfully!");
    }
}
```

**Verification:**
1. Create empty GameObject in scene
2. Attach `DOTweenTest.cs` script
3. Enter play mode
4. Verify GameObject rotates smoothly
5. Check console for success message
6. Delete test script and GameObject after verification

---

## Dev Notes

### Architecture References

**DOTween Package Requirement:** [Source: architecture.md#2-technology-stack > Additional SDKs]
- DOTween listed as required SDK for animation tweening
- Free version sufficient for MVP (Pro version optional for advanced features)

**Performance Requirements:** [Source: architecture.md#9-performance-requirements]
- Must maintain 60 FPS on mobile (target devices: iPhone 8+, Android mid-range)
- DOTween optimized for performance when Safe Mode disabled

**Asset Pipeline:** [Source: architecture.md#appendix-package-dependencies]
- DOTween (Asset Store - free) listed in "Additional Packages to Install"

### Package Information

**DOTween Free vs Pro:**
- Free version: Sufficient for all MVP needs
- Pro version ($15): Adds DOTween Pro shortcuts, additional easing functions, path editor
- **Decision:** Use Free version for MVP, upgrade to Pro only if needed post-launch

**Module Selection Rationale:**
- **Transform:** Required for GameObject position/rotation/scale animations (seed movement, board pieces)
- **UI:** Required for UI transitions (menu animations, popup effects)
- **Sprite:** Required for 2D sprite animations (seed sprites, visual effects)
- **Audio/Physics disabled:** Not needed for turn-based Oware gameplay

---

## Implementation Tasks

### Dev Agent Record

**Tasks:**

- [ ] **Task 1:** Open Unity Package Manager and verify DOTween not already installed
- [ ] **Task 2:** Access Unity Asset Store (Window > Asset Store or web browser)
- [ ] **Task 3:** Search and download "DOTween (HOTween v2)" free package
- [ ] **Task 4:** Import all DOTween files into project
- [ ] **Task 5:** Run DOTween Utility Panel (`Tools > Demigiant > DOTween Utility Panel`)
- [ ] **Task 6:** Configure modules (Transform, UI, Sprite only)
- [ ] **Task 7:** Set Safe Mode: OFF, Timeline Support: ON
- [ ] **Task 8:** Apply settings and verify no console errors
- [ ] **Task 9:** Create `DOTweenTest.cs` script and test animation
- [ ] **Task 10:** Build project for all platforms (iOS, Android, WebGL) to verify no build errors
- [ ] **Task 11:** Document DOTween version in `docs/architecture.md` or project README
- [ ] **Task 12:** Delete test script after verification

**Debug Log:**
| Task | File | Change | Reverted? |
|------|------|--------|-----------|
|  |  |  |  |

**Completion Notes:**

<!-- Only note deviations from requirements, keep under 50 words -->

**Change Log:**

<!-- Only requirement changes during implementation -->

---

## Game Design Context

**GDD Reference:** Architecture > Technology Stack > DOTween

**Game Mechanic:** Animation System Foundation

**Player Experience Goal:**
- Smooth, polished animations enhance game feel and visual feedback
- Professional-quality tweening creates premium user experience
- Performant animations maintain 60 FPS target on all devices

**Balance Parameters:**

- **Default Animation Duration:** 0.3-0.5 seconds (standard UI/gameplay animations)
- **Seed Sowing Animation:** 0.2 seconds per seed (Story 2.4 will use this)
- **Capture Animation:** 0.5 seconds total (Story 2.5 will use this)

---

## Testing Requirements

### Manual Testing

**Test Cases:**

1. **TC1: Installation Verification**
   - Install DOTween from Asset Store
   - Run Setup Utility
   - Expected: No errors, setup panel shows success
   - Performance: No impact on project load time

2. **TC2: Test Animation Runs**
   - Create test GameObject with DOTweenTest script
   - Enter play mode
   - Expected: GameObject rotates smoothly at 60 FPS
   - Performance: No frame drops, <1% CPU usage

3. **TC3: Build Verification**
   - Build for iOS (if Mac available)
   - Build for Android
   - Build for WebGL
   - Expected: All builds succeed without errors

4. **TC4: Package Compatibility**
   - Check for conflicts with existing packages (UGS, TextMeshPro)
   - Expected: No assembly reference errors or namespace conflicts

### Performance Tests

**Metrics to Verify:**

- Frame rate: 60 FPS with test animation running
- Memory: No memory leaks during animation loops
- Build size: <5 MB increase after DOTween installation

---

## Dependencies

**Story Dependencies:**

- None (first story in Epic 1)

**Technical Dependencies:**

- Unity 2022 LTS project (current status: ✅ Complete)
- Git repository (current status: ✅ Complete)

**Asset Dependencies:**

- Unity Asset Store account (free)
- Internet connection for Asset Store download

---

## Definition of Done

- [ ] DOTween package installed and configured
- [ ] Setup utility run successfully (modules configured)
- [ ] Test animation runs at 60 FPS
- [ ] All target platform builds succeed
- [ ] No console errors or warnings
- [ ] Test script created, verified, then deleted
- [ ] Version documented in architecture.md or README
- [ ] `.gitignore` updated if needed (DOTween cache files)

---

## Notes

**Implementation Notes:**

- DOTween Utility Panel automatically generates asmdef files - do not manually edit these
- Safe Mode disabled for performance; re-enable only if encountering DOTween errors during development
- Timeline Support enabled for potential future cinematic sequences (V1.2+)

**Design Decisions:**

- **Free vs Pro:** Free version chosen to minimize costs during MVP phase. Pro version features (path editor, shortcuts) not critical for MVP scope.
- **Module Selection:** Only enabled modules needed for MVP to reduce build size and initialization time.

**Future Considerations:**

- Upgrade to DOTween Pro if path-based animations needed (V1.1+ for lesson animations)
- Consider DOTween Path editor for complex seed sowing patterns (if needed)
- May enable Physics2D module if adding physics-based visual effects (V2.0+)

---

**Story Created:** 2025-10-21
**Last Updated:** 2025-10-21
**Created By:** Jordan (Game Scrum Master)
