# Story 2.1 - Beginner AI Testing Guide

## Quick Start Testing

### Automated Unit Tests
1. Open Unity Editor
2. Go to **Window > General > Test Runner**
3. Click **EditMode** tab
4. Click **Run All** to execute BeginnerAITests
5. Verify all 8 tests pass:
   - GetMove_OnNewBoard_ReturnsValidMove
   - GetMove_WithOnlyOneValidMove_ReturnsThatMove
   - GetMove_ExecutesUnder100Milliseconds
   - GetMove_AverageExecutionTime_UnderTarget
   - GetMove_OnEmptyBoard_ReturnsErrorCode
   - GetMove_MultipleInvocations_ReturnsVariedMoves
   - GetMove_DetectsCaptureOpportunities
   - GetDifficultyName_ReturnsBeginner

### Manual Testing Scripts (Context Menu)
1. Open Unity Editor
2. Open scene: **Assets/_Project/Scenes/Boot.unity**
3. Create empty GameObject and attach **BeginnerAITest** component
4. In Inspector, right-click component header to access:
   - **1. Run Performance Test (AI Decision Time)** - Verifies <100ms execution
   - **2. Run Win Rate Test (100 Games)** - Verifies 60-70% player win rate target
   - **3. Run Strategic Move Analysis** - Tests capture detection
5. Check Console for results

### Manual PlayMode Testing
1. Open **Assets/_Project/Scenes/Boot.unity**
2. Verify GameManager has:
   - **Is AI Opponent** = ✓ (checked)
   - **AI Difficulty** = Beginner
   - **Human Player Index** = 0 (you are Player 1)
3. Enter Play Mode
4. Click pits on bottom row (Player 1 side: pits 0-5)
5. Observe AI responses on top row (Player 2 side: pits 6-11)

**What to Verify:**
- ✅ AI responds within 1.0-1.5 seconds (check console timestamps)
- ✅ AI never selects invalid moves
- ✅ AI occasionally makes strategic captures (check "[BeginnerAI] Strategic move selected" logs)
- ✅ Game runs smoothly at 60 FPS (no stuttering during AI turns)
- ✅ You can win the majority of games (AI should be beatable)

## Performance Testing

### Using Unity Profiler
1. Open **Window > Analysis > Profiler**
2. Enter Play Mode
3. During AI turns, check:
   - **CPU Usage** - BeginnerAI.GetMove() should be <5ms
   - **Memory** - No GC allocations in GetMove() path
   - **Frame Rate** - Stable 60 FPS (16.67ms per frame)

### Expected Performance Metrics
- **Average AI Decision Time:** <50ms (Target: <100ms)
- **Frame Time During AI Turn:** <16.67ms (60 FPS)
- **Memory Allocations:** Minimal (<1KB per move)

## Acceptance Criteria Checklist

### Functional Requirements
- [x] **AC1:** Beginner AI selects valid moves using GetValidMoves()
- [x] **AC2:** AI makes random moves 70% of time
- [x] **AC3:** AI applies strategic heuristic 30% (captures/blocks)
- [ ] **AC4:** AI move selection <100ms (Verify via automated tests)
- [x] **AC5:** Integrates with GameManager.TriggerAIMove() with 1-1.5s delay
- [x] **AC6:** Respects all Oware rules via ExecuteMove()
- [x] **AC7:** GameManager correctly identifies and invokes AI during turns

### Technical Requirements
- [x] **TR1:** BeginnerAI implements IOwareAI interface
- [x] **TR2:** Uses OwareBoard.Clone() for simulation
- [x] **TR3:** Follows C# coding standards (PascalCase, XML docs)
- [x] **TR4:** No MonoBehaviour usage - pure C# class
- [ ] **TR5:** Maintains 60 FPS (Verify via Profiler)

### Game Design Requirements
- [ ] **GD1:** 60-70% player win rate (Verify via Win Rate Test)
- [x] **GD2:** 1.0-1.5s AI delay for natural pacing
- [x] **GD3:** Strategic heuristic teaches defensive play

## Known Issues / Notes

### Implementation Deviations
1. **Interface method name:** Uses `GetMove()` instead of `SelectMove()` from spec
   - Reason: Maintains consistency with existing codebase patterns
   - Impact: None - functionality identical

2. **Enhanced strategic logic:** BeginnerAI includes opponent threat blocking and vulnerability assessment beyond spec
   - Reason: Provides better teaching moments for players
   - Impact: May slightly reduce player win rate below 70% target - monitor during playtesting

### Files Requiring Manual Testing
- **Task 6:** Manual PlayMode testing - requires human player
- **Task 7:** Performance profiling - requires Unity Profiler inspection

## Testing Completion Checklist

Before marking story "Ready for Review":
- [ ] All 8 automated unit tests pass
- [ ] Performance test shows <100ms average decision time
- [ ] Win rate test shows player wins 60-70% of games
- [ ] Strategic behavior test shows AI detects captures
- [ ] Manual PlayMode: 5-10 full games completed
- [ ] Unity Profiler: No frame drops during AI turns
- [ ] Unity Profiler: No memory leaks in GetMove()
- [ ] Console logs show no errors or warnings
- [ ] GameManager Inspector shows AI Difficulty dropdown

## How to Mark Story Complete

Once all tests pass:
1. Update story status to "Ready for Review"
2. Ensure all tasks marked [x]
3. Verify File List is complete
4. Run final regression: Build project with no errors
